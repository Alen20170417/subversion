      * * * * * * * * * * * * * * * * * * * * * * * * * * * *
      *                                                     *
      *  THIS RELEASE STREAM IS OPEN TO BUG FIXES.          *
      *                                                     *
      * * * * * * * * * * * * * * * * * * * * * * * * * * * *

This file tracks the status of releases in the 1.8.x line.

See http://subversion.apache.org/docs/community-guide/releasing.html#release-stabilization
for details on how release lines and voting work, what kinds of bugs can
delay a release, etc.

Status of 1.8.1:

Candidate changes:
==================

 * r1469519, r1469520, r1481848, r1481870
   Silence compiler warnings, tighten scopes and improve code.
   Justification:
     Clean builds make it more likely to notice real compiler warnings.
   Branch: ^/subversion/branches/1.8.x-r1469519-and-friends
   Votes:
     +1: blair
     +1: brane (for 1.8.1)
     -0: philip (see dev thread: false alarm, trades one warning for another)

 * r1489885, r1489928
   Resolve regression where 'svn ci ci' just returned success when 'ci' doesn't
   exist in the working copy.
   Justification:
     Improves usability of 'svn', and of the status api (for api users).
   Notes:
     This introduces a warning/error for a specific case via the status walker,
     so I'm not 100% sure if we should introduce this patch in this form in
     1.8.1 or later.
   Votes:
     +0: rhuijben (Needs more work. Breaks JavaHL)

 * r1491432
   Rename 'automatic merge' to 'complete merge' in the merge help text.
   Justification:
     Prevent user confusion. "Automatic merge" sounds too ambitious and
     may be misunderstood if not used in context. The term 'complete'
     refers to a merge which merges all outstanding changes from the
     source branch, i.e. sync or reintegrate.
   Notes:
     This should be merged for 1.8.0, if possible, else different client
     versions will name the feature in different ways.
   Votes:
     +1: stsp
     +1: danielsh (no opinion on the name of the feature; just confirming this
                   patch does what it claims to)

 * r1491739, r1491755, r1491762, r1492152, r1492670, r1492682
   Improve interactive conflict resolution menu.
   Justification:
     The current menu is too hard to figure out for users.
     See http://svn.haxx.se/dev/archive-2013-06/0147.shtml
     and http://blog.elegosoft.com/?q=updating-moves-in-subversion-18-just-ask
   Votes:
     +1: stsp

 * r1491816, r1494089
   Add two additional options to interactive file merge.
   Justification:
     Usability enhancement for quicker conflict resolution in some cases.
     Very simple change. Only affects interactive mode, not scripts.
   Votes:
     +1: stsp, danielsh

 * r1491868, r1494657
   Add missing conflict callback invocations to the update editor.
   Justification:
     Resolver is not invoked after some updates which flag new tree conflicts.
   Votes:
     +1: stsp, rhuijben

 * r1478987, r1492020
   Optimize some code that retrieves mergeinfo to obtain less unneeded
   information from the repository.
   Justification:
     Simple fixes to improve performance.
   Votes:
     +1: rhuijben, stefan2

 * r1491756
   Fix issue #4364: Correctly remove the stale entries from the lock table
   when committing deletions.
   Justification:
     Keep wc.db as consistent and clean as possible.
   Votes:
     +1: rhuijben, stsp
     +1 (nonbinding): schabi

 * r1493703, r1494171
   Fix upgrade notification for explicit upgrades of post-WC-NG working copies.
   Justification:
     Without this notification users can't see whether the upgrade was a no-op.
   Votes:
     +1: rhuijben, stsp

 * r1494913, r1494967
   Fix performance regression in 'svn log' on repository roots.
   Justification:
     In 1.8.0, 'svn log' is unusably slow on FSFS repo roots.
     BDB most likely has the same issue.
   Note:
     r1494913 fixes FSFS
     r1494967 fixes BDB
   Votes:
     +1: stefan2, danielsh

 * r1494966
   Eliminate an extra RA layer roundtrip in 'svn log' on repository roots.
   Justification:
     Minor performance regression against 1.7.x plus requesting e.g. single
     revision logs on a repo root is not a fringe use-case.
   Votes:
     +1: stefan2, rhuijben

 * ^/subversion/branches/1.8.x-r1495063
   r1495806, r1495985
   Fix crash in FSFS DAG caching code on strict-alignment architectures.
   Also, improve hash hash effectiveness and efficiency.
   Justification:
     FSFS shouldn't crash.
     See http://svn.haxx.se/dev/archive-2013-06/0432.shtml
   Branch: 1.8.x-r1495063
   Notes:
     It took a while to figure out the "right way" to fix the hash function.
     The branch takes all the individual back-and-forth changes and combines
     them into one small patch.
   Votes:
     +1: stefan2, stsp

 * r1495329
   Use relative symlink for svnmucc in svn-tools.
   Justification:
     Makes 'make install-tools' work when DESTDIR is set.
   Votes:
     +1: philip
     -0: danielsh (the symlink should be absolute; see r1495329 thread)

 * r1495428
   Improve BDB error codes.
   Justification:
     (err->apr_err == APR_SUCCESS) leaks to API consumers.
   Votes:
     +1: danielsh, stefan2

 * r1495432
   Allow deleting non-regular properties from nodes.
   Justification:
     No way to remove them from historical files that have them.
   Votes:
     +1: danielsh, stefan2

 * r1492264
   Fix wrong character encoding handling of generic error messages
   in JavaHL
   Justification:
     Fixes a confusing bug where the generic error message generated by
     JavaHL is mangled due to wrong encoding, but the more specific messages
     generated by the native libraries are legible.
   Votes:
     +1: brane

* r1496110
   Prevent a segfault in svn_client_log5.
   Justification:
     No command line replication yet, but several reports of segfaults
    with TSVN, see http://svn.haxx.se/dev/archive-2013-06/0522.shtml.
   Votes:
     +1: pburba

 * r1496007, r1496111
   Fix issue #4383, "Subversion 1.8.0 crash when WC path is symlink"
   Justification:
     Crash, regression from 1.7.
   Votes:
     +1: stsp
     +0: rhuijben (looks good)

 * r1496132
   Provide a more detailed error than APR_EGENERAL when a serf connection
   fails.
   Justification:
     Returning APR_EGENERAL for a very common error breaks all usable
     error handling in GUI clients. Serf should provide a better
     error that differentiates between separate problems.
   Votes:
     +1: rhuijben

Veto-blocked changes:
=====================

 * r1493027, r1493028, r1493060
   Make 'blame -r 5:4' work.
   Justification:
     Make it possible to track removed lines.
   Notes:
     r1493027 is the fix.
     r1493028 is a typo fix.
     r1493060 is a docstring change.  If this group is merged, that docstring
       should be amended to say "1.8.1" rather than "1.9.0" (this amendment
       does not require votes).
   Votes:
     -1: danielsh (doesn't resolve peg revisions correctly)

Approved changes:
=================

