      * * * * * * * * * * * * * * * * * * * * * * * * * * * *
      *                                                     *
      *  THIS RELEASE STREAM IS OPEN TO BUG FIXES.          *
      *                                                     *
      * * * * * * * * * * * * * * * * * * * * * * * * * * * *

This file tracks the status of releases in the 1.7.x line.

See http://subversion.apache.org/docs/community-guide/releasing.html#release-stabilization
for details on how release lines and voting work, what kinds of bugs can
delay a release, etc.

Status of 1.7.10:

Candidate changes:
==================

 * r1306275, and other revisions
   New diff support code for added/deleted files and directories.
   Fixes issue #4153, "svn log --diff" on moved file gives "not found",
   and other problems.
   Justification:
     The current code (introduced in 1.7.x in the r1207351 backport commit)
     produces inconsistent paths in diff output (see
     http://svn.haxx.se/dev/archive-2012-03/0385.shtml), and it also breaks
     with the paradigm that the target of an editor drive may never have more
     than one path component (which according to cmpilato is an API violation).
   Notes:
     Please read the branch and related trunk log messages for detailed notes
     about these changes.
   Branch:
     ^/subversion/branches/1.7.x-issue4153
   Votes:
     +1: stsp

 * ^/subversion/branches/1.7.x-commit-performance
   r1337118, r1337281, r1337374, r1337377, r1337392, r1337394, r1337485
   Use the working copy status walker as a first filter to find committable
   nodes.
   Justification:
     Huge performance boost. Especially on NFS.
   Notes:
     Backports the status walker framework. Many other parts are backportable
     too, but this branch delivers the plumbing.
     [JAF] We might want to include some of the subsequent updates to this
           code, such as: r1337403, r1337475, r1337736, r1338059, r1338338.
   Votes:
     +0: rhuijben (I would like to see some test results before backporting)

 * r1409804
   Add a delimiter between the two chains in svn_error_compose_create().
   Justification:
     Allow users to tell where the second error chain starts -- avoids
     misrepresentation that the first error is caused by the second.
   Votes:
     -0: rhuijben (I'm not sure if this should be in a patch release and the
                   stacktrace where this refers to is maintainer only)
     +1: danielsh (err->file and err->line are only in maintainer builds.
                   this is about err->message which is valid in all builds)

 * r1421541, r1424977
   Fix infinite recursion in './get-deps.sh'.
   Justification:
     Trivial fix to plug an edge case.
   Votes:
     -0: rhuijben (Is this needed on this branch?)
     +1: danielsh (as much as it's needed on trunk)

 * r1423837, r1423840, r1423848
   Fix issue #4168, "no such table: revert_list" for nested wc in sparse wc
   Justification:
     Accessing the wrong database from the revert code gives an ugly error
     which might not be easy to work around.
   Votes:
     +1: rhuijben, pburba

 * r1426752
   Fix Issue #4133, an issue in the diff-libraries whitespace normalization
   handling that might make diff use the wrong tokens, showing up as
   unexpected changes.
   Justification:
     The diff library should behave properly when suppressing whitespace
     changes.
   Notes:
     The branch is just needed for avoiding a conflict with the testcase.
     Will probably conflict again if r1426762 and/or r1427278 are merged to
     1.7.x, because they all add a test to the testlist in diff-diff3-test.c.
   Branch:
     ^/subversion/branches/1.7.x-r1426752
   Votes:
     +1: rhuijben, jcorvel

 * r1426762
   Fix issue #4283, When the identical suffix starts at chunk boundary, "svn
   diff" produces incorrect diff.
   Justification:
     Without this patch the identical suffix might show up as an added or
     deleted suffix of a file.
   Notes:
     Will probably conflict if r1426752 and/or r1427278 are merged to
     1.7.x, because they all add a test to the testlist in diff-diff3-test.c.
   Votes:
     +1: rhuijben, jcorvel

 * r1426830
   Resolve issue #3797, by making sure that local changes at the same path
   as a not present file are not skipped.
   Justification:
     Improves 'svn diff' handling of local changes.
   Votes:
     +1: rhuijben, pburba

 * r1427278
   Fix another issue in the diff-libraries whitespace normalization
   handling that might make diff show unexpected changes, and even trying
   to read beyond end of file.
   Justification:
     The diff library should behave properly when suppressing whitespace
     changes. See also http://svn.haxx.se/dev/archive-2012-12/0556.shtml
     for some examples of this bug.
   Notes:
     The branch is just needed for avoiding a conflict with adding a comment.
     Will probably conflict again if r1426752 and/or r1426762 are merged to
     1.7.x, because they all add a test to the testlist in diff-diff3-test.c.
   Branch:
     ^/subversion/branches/1.7.x-r1427278
   Votes:
     +1: jcorvel, rhuijben

 * r1427197, r1427210
   Fix issue #4270 'diff -cN shows wrong line changed'.  In the optimized
   code path (unaligned access) for prefix/suffix scanning, the diff would
   be incorrect when a '\r' is not immediately followed by a '\n'.
   Justification:
     Diff should show the correct changes. Failure to do so can lead to
     incorrect updates/merges (because diff3 suffers from the same bug).
   Branch:
     ^/subversion/branches/1.7.x-issue4270
   Votes:
     +1: jcorvel, rhuijben

 * r1434405, r1434414, r1434418
   Fix issue #4294 'diff --git shows wrong copy from'.  Moving a dir
   causes diff --git to output incorrect sources for the diff.
   Justification:
     Diff should show the correct output.  Failiure to do so can lead to
     incorrect interoperation with other systems.
   Votes:
     +1: breser
     +1: rhuijben (even though it only fixes one of the many --git issues)

 * r1434128, r1434435, r1434476
   Fix issue #4034, 'blame on files with non-native eol-style sees every
   line as modified'.
   Justification:
     When blaming to the working copy instead of the base version eol styles
     all other styles than those with "\n" repository form show up as
     entirely changed.
   Votes:
     +1: rhuijben

 * r1434750
   Resolve regression in 'svn status -u' output when running on externals.
   Without this patch the paths in directory externals are shown as absolute
   while all others are shown relative/as provided by the user.
   Justification:
     Consistent api behavior is goog
   Votes:
     +1: rhuijben

 * r1435635, r1435714, r1435722, r1435737
   When svn update removes a switched subtree because it was deleted in the
   target revision, it would be nice if a future update would bring back
   the originally node that existed before switching. (Issue #4295)
   Justification:
     After this operation the working copy doesn't match the repository
     without obviouse way to recover.
   Notes:
     The real fix is in r1435722. The other revisions tweak the test that
     also triggered a different revision on trunk.
   Branch:
     ^/subversion/branches/1.7.x-issue-4295
   Votes:
     +1: rhuijben

 * r1438602, r1438683, r1441810
   Fix issue #4306, "multiple editor drive file merges record wrong mergeinfo
   during conflicts"
   Justification:
     Bogus mergeinfo is created during conflicting merges with file targets.
   Notes: r1438602 is the initial test and r1438683 the initial fix. r1441810
     is a follow-up that addressed a bug in the initial fix (see
     http://svn.haxx.se/dev/archive-2013-02/0001.shtml) and also reworked the
     test to use prop edits rather than text edits as the changes to be
     merged.  Unfortunately, 1.7.x has unrelated problems with property
     conflicts: It doesn't abort the merge if it encounters them!  It merrily
     plugs along sans any "One or more conflicts were produced while
     merging...resolve all conflicts and rerun the merge to apply the
     remaining unmerged revisions" error (this is fixed on trunk).  So while
     r1441810 is a valid fix (IMO) its test fails for unrelated reasons.  So
     I reworked the earlier version of test to demonstrate the problem
     r1441810 fixes, but using file conflicts.
   Branch:
     ^/subversion/branches/1.7.x-issue4306
   Votes:
     +1: stsp (r1438602 and r1438683 only), pburba

 * r1438879
   Make 'show-diff' at the interactive conflict prompt show nicer diffs.
   Justification:
     'show-diff' produces unreadable diffs in some cases, especially with
     conflicts recorded during merges.
   Branch:
     ^/subversion/branches/1.7.x-r1438879
   Votes:
     +1: stsp

 * r1445753
   Fix issue #3741, 'externals not removed when working copy is made shallow'.
   Justification:
     Externals linger after update --set-depth empty, causing unnecessary
     tree conflicts when the working copy is updated back to depth infinity.
     See regression test and also the recipe script attached to issue #3741.
   Votes:
     +1: stsp, rhuijben

 * r1451678, r1452617
   Make get-deps.sh compatible with Solaris /bin/sh.
   Justification:
     Make get-deps.sh work on Solaris. 
   Votes:
     +1: breser
     +0: rhuijben (untested)

 * r1452780
   Address issue #4331, "working copy permissions change on commit for files
   with keywords".
   Justification:
     Keyword translation should not affect file permission bits.
   Votes:
     +1: stsp
     +0: rhuijben (code looks ok, but is a no-op on Windows)

 * ^/subversion/branches/1.7.x-gssapi-solaris10
   Justification:
     Make it easier to build svn+serf with kerberos support on Solaris10.
   Branch:
     ^/subversion/branches/1.7.x-gssapi-solaris10
   Notes:
     rhuijben: Is this necessary for 1.7. I think gssapi was moved to serf
     with/before serf 1.0, which is a 1.7 requirement?
   Votes:
     +1: breser

 * r1461562, r1461580, r1461701, r1461760
   Fix issue #4340, "filenames containing \n corrupt FSFS repositories"
   Justification:
     Control characters can severely corrupt FSFS revision files and
     should never enter the repository for this reason. See discussion
     linked form issue #4340 for more information.
   Notes:
     r1461701 and r1461760 revise the changes made in the earlier revisions,
     and are the result of a long dev@ discussion that eventually concluded
     in this subthread: http://svn.haxx.se/dev/archive-2013-04/0056.shtml
   Branch:
     ^/subversion/branches/1.7.x-issue4340
   Votes:
     +1: stsp
     -1: cmpilato ("How did this expand from 'newlines' to 'control
                    characters'?!
                    <danielsh> that has been addressed in HEAD)
     -0: danielsh (FSFS escape_newline should escape any control character,
                   not just '\n'; libsvn_repos restrictions not suitable
                   for introduction in a patch release)

 * r1461743
   svn_fs_commit_txn: set output parameter in non-maintainer-with-special-flags
   builds.c
   Justification:
     Part of the API contract.
   Branch: 1.7.x-r1461743
   Votes:
     +1: danielsh

 * r1465975
   Replace assertions that trigger in the wild with proper error messages.
   Justification:
     User-friendliness, see http://svn.haxx.se/users/archive-2013-04/0064.shtml
     Showing the problematic path will help with figuring out the problem.
   Votes:
     +1: stsp
     +1: danielsh (should we avoid svn_dirent_local_style in this case, i.e.,
                   print the literal value that nodes.local_relpath is expected
                   to contain?)

 * r1475724
   Fix changelist filtering when --changelist values aren't UTF8.
   Justification:
     User-reported buglet that prevents the use of changelist
     filtering altogether for those sorts of changelist names.
   Branch: 1.7.x-r1475724
   Votes:
     +1: cmpilato

 * r1476359
   JavaHL thread safety bug.
   Justification:
     Unexpected exceptions can be thrown when thread issues are encountered.
   Votes:
     +1: markphip

Veto-blocked changes:
=====================

Approved changes:
=================
