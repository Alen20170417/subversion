      * * * * * * * * * * * * * * * * * * * * * * * * * * * *
      *                                                     *
      *  THIS RELEASE STREAM IS OPEN TO BUG FIXES.          *
      *                                                     *
      * * * * * * * * * * * * * * * * * * * * * * * * * * * *

This file tracks the status of releases in the 1.8.x line.

See http://subversion.apache.org/docs/community-guide/releasing.html#release-stabilization
for details on how release lines and voting work, what kinds of bugs can
delay a release, etc.

Status of 1.8.12:

Candidate changes:
==================

 * r1536854
   Make 'svnadmin verify' detect inconsistencies that will prevent loading
   dump files.
   Justification:
     Some users rely on dump files as a means of repository backup.  Without
     this patch, there is no way except of 'svnadmin load' to know that these
     dump files will load at all.  With this patch, a successful verify run
     should guarantee loadable dump files.
   Branch:
     ^/subversion/branches/1.8.x-r1536854
   Votes:
     +1: stefan2, breser
     -0: julianfoad (test is missing from branch -- how do we know it works?)

 * r1654932, r1654933, r1654934, r1654937
   Fix issue #4554, "0 file length reported in FSFS".
   Justification:
     This causes 'svnadmin dump' to create corrupted output that fails to
     load and we provide no way to detect that problem other than loading
     the respective dump.  We also want to prevent further instances of
     that issue to be added to the repository.
   Notes:
     r1561419 has been removed from this change set and proposed for a
     separate backport because it is not a necessary part of the #4554 fix.
   Branch:
     ^/subversion/branches/1.8.x-issue4554
   Votes:
     +1: stefan2
     +0: rhuijben (patch looks sane, but hard to oversee consequences)
     +0: danielsh (hard to review all potential causes of expanded_size==0 in
                   7*3*2 cases (1.1…1.8) × (file/dir/prop rep) × (plain/delta))

 * r1660071
   When handling a pre-existing working copy as external, register it as such
   Justification:
     Without this the external is not properly handled as such when performing
     operations like status.
   Votes:
     +1: rhuijben, stsp

 * r1660220, r1665874
   Don't leave conflict markers on files that are moved
   Branch:
     ^/subversion/branches/1.8.x-r1660220
   Justification:
     Without this patch property or text conflicted files that are moved
     leave dangling conflict markers in the old location. Easy fix.
   Votes:
     +1: stsp
     +1: rhuijben (without r1665874)

 * r1532287
   Simplify Windows resource compilation to avoid warnings
   Justification:
     Windows .rc files are compiled with a resource compiler that uses a
     C preprocessor. Our .rc file uses svn_version.h to include the version
     info, but this also brings in a lot of other include files. On newer
     Windows development platforms these header files include macros that
     cause warnings in the resource compilation process. This patch resolves
     all those warnings by including just what is necessary. (This resolves
     multiple warnings for each .dll and .exe on the Windows buildbot,
     thereby hiding more important warnings)
   Votes:
     +1: rhuijben, ivan

 * ^/subversion/branches/1.8.x-r1660593
   Fix recording last-* information on nodes copied from foreign repositories
   Justification:
     Recording revisions (and other details) of foreign repositories causes
     incorrect status output and bugs when using -rCOMMITTED, -rPREV, etc.
     Local fix.
   Notes:
     The backport includes a small consistency fix from trunk.
   Branch:
     ^/subversion/branches/1.8.x-r1660593
   Votes:
     +1: rhuijben, stsp

 * r1660646
   Fix calculating the repository path of replaced directories on entry upgrade
   Justification:
     Simple fix that avoids recording invalid data in WC-NG.
   Votes:
     +1: rhuijben, stsp

 * r1663991
   Fix calculating the repository path after commits of nodes that are
   shadowing a switched (not-present) node.
   Justification:
     Allows introducing repository paths in the working copy, that don't
     reflect the repository state.
   Votes:
     +1: rhuijben

 * r1664531, r1664532, r1545134
   Improve database usage in entries-test and svn_wc__db_read_info()
   to speed up test runs and general client speed
   Justification:
     Use of the non deprecated function to check if the working copy is
     locked avoids re-opening the database for each and every directory.
     Introduction of sqlite helper macros eases other backports.
   Votes:
     +1: rhuijben

 * r1664684
   svnrdump: don't provide HEAD+1 as base revision when loading deletes.
   Justification:
     Our own tools should be well behaved.
   Notes:
     A trival merge conflict is fixed on the branch.
   Branch:
     ^/subversion/branches/1.8.x-r1664684
   Votes:
     +1: rhuijben

 * r1664476, r1664480, r1664481, r1664483, r1664507, r1664520, r1664521, r1664523, r1664526, r1664527, r1665845, r1665850, r1665852
   Automatic create sqlite_stat1 table in wc.db if it doesn't exist.
   Justification:
     Avoid performance regression on some old working copies. Same
     fix is nominated for 1.9.0, while this problem also affects older
     versions.
   Notes:
     This stats table provides very valuable hints to the sqlite query
     optimizer. Sqlite 3.8.x needs this for most of our queries.
     .
     See "Manual Control Of Query Plans Using SQLITE_STAT Tables"
     on https://www.sqlite.org/optoverview.html#manctrl
     I (philip) think we cannot release 1.9.0 without this fix.
     .
     For 1.8.x this fix depends on the r1664531, r1664532, r1545134 group.
     The first two revisions avoid a huge testrun delay on Windows,
     while the third revision adds necessary plumbing needed for compilation
     of this group.
   Votes:
     +1: rhuijben (after the veto on this same group for 1.9.0 is resolved)

 * r1619380, r1619393, r1660186
   Fix diff of a locally copied directory with props: it showed all props
   as added instead of a diff against the copy-from props.
   Justification:
     Behaviour regression introduced in 1.8.0.
   Notes:
     r1619380 is the fix; r1619393 a test for it.
     The test on trunk@1619393 is tweaked to account for a trunk bug in the
     display of diff headers; the backport branch provides the correct
     version for 1.8.x.
   Branch:
     ^/subversion/branches/1.8.x-r1619380
   Votes:
     +1: rhuijben
     +1: stefan2 (before r1660186 was added)
     +0: julianfoad

Veto-blocked changes:
=====================

Approved changes:
=================
