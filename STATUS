      * * * * * * * * * * * * * * * * * * * * * * * * * * * *
      *                                                     *
      *  THIS RELEASE STREAM IS OPEN TO BUG FIXES.          *
      *                                                     *
      * * * * * * * * * * * * * * * * * * * * * * * * * * * *

This file tracks the status of releases in the 1.8.x line.

See http://subversion.apache.org/docs/community-guide/releasing.html#release-stabilization
for details on how release lines and voting work, what kinds of bugs can
delay a release, etc.

Status of 1.8.12:

Candidate changes:
==================

 * r1501293, r1501338, r1501360, r1501533
   Fix issue #4390, "parallel nested checkout not possible with wc-ng"
   Justification:
     Regression from 1.6. User complained. See issue for details.
   Branch:
     ^/subversion/branches/1.8.x-issue4390
   Depends:
     Nomination conflicts with the branch and merges cleanly without it.
     Branch should probably be removed from the nomination (it was only needed
     before r1503552).
   Votes:
     +1: stsp
     -0: ivan, brane (not regression from 1.7.x,
                      destructive change in libsvn_wc core)
     -0: rhuijben (temporarily remove my +1 until I complete investigating
                   a related problem. It looks like this fix doesn't work for
                   the user scenario it was intended for)

 * r1536854
   Make 'svnadmin verify' detect inconsistencies that will prevent loading
   dump files.
   Justification:
     Some users rely on dump files as a means of repository backup.  Without
     this patch, there is no way except of 'svnadmin load' to know that these
     dump files will load at all.  With this patch, a successful verify run
     should guarantee loadable dump files.
   Branch:
     ^/subversion/branches/1.8.x-r1536854
   Votes:
     +1: stefan2, breser

 * r1561419, r1561427, 1547489, r1560643, r1573744
   Fix the hotcopy and recovery for pre-1.4 FSFS repositories.
   Branch: ^/subversion/branches/1.8.x-r1573744-and-friends
   Justification:
     Without this, old SVN versions won't be able to e.g. hotcopy those
     repos once 1.8.x made a commit in them.  Also, fix our hotcopy code
     and make it cope with repositories broken by previous 1.8.x releases.
   Notes:
     The best way to review this is to review the backporting result in
     r1640603 instead of inspecting the original patches.
     "r1573744" is a bit of a misnomer as only the test case got backported
     because the workflow problem fixed by it does not exist in 1.8.x.
   Votes:
     +1: stefan2

 * r1619380, r1619393
   Fix diff of a locally copied directory with props: it showed all props
   as added instead of a diff against the copy-from props.
   Justification:
     Behaviour regression introduced in 1.8.0.
   Notes:
     r1619380 is the fix; r1619393 a test for it.
     The test on trunk@1619393 is tweaked to account for a trunk bug in the
     display of diff headers; the backport branch provides the correct
     version for 1.8.x.
   Branch:
     ^/subversion/branches/1.8.x-r1619380
   Votes:
     +1: rhuijben, stefan2
     -0: julianfoad (assertion failure on incomplete dir -- see email)

 * r1651963, r1651966, r1651980, r1651997
   Sequence of moves shouldn't trigger an assertion in the working copy
   Justification:
     Users shouldn't be able to trigger assertions by performing normal
     operations.
   Votes:
     +1: rhuijben

 * r1654932, r1654933, r1654934, r1654937
   Fix issue #4554, "0 file length reported in FSFS".
   Justification:
     This causes 'svnadmin dump' to create corrupted output that fails to
     load and we provide no way to detect that problem other than loading
     the respective dump.  We also want to prevent further instances of
     that issue to be added to the repository.
   Notes:
     r1561419 has been removed from this change set and proposed for a
     separate backport because it is not a necessary part of the #4554 fix.
   Branch:
     ^/subversion/branches/1.8.x-issue4554
   Votes:
     +1: stefan2
     +0: rhuijben (patch looks sane, but hard to oversee consequences)
     +0: danielsh (hard to review all potential causes of expanded_size==0 in
                   7*3*2 cases (1.1…1.8) × (file/dir/prop rep) × (plain/delta))

 * r1658417
   Don't ask a resolver if we should resolve if we only take no as answer
   Justification:
     Presenting conflicts to the conflict resolver only makes sense if the
     result of the function is potentially applied. I'm surprised that
     nobody noticed this problem in svn_wc_resolved_conflict5().
   Votes:
     +1: rhuijben, stefan2

 * r1659867, r1659869, r1660091, r1660097
   Fix reproducable memory corruption and unneeded io errors on editor abort
   Justification:
     Reproducible double free(), which is undefined behaviour.  Details:
     .
     A SIGPIPE caused by cancelling a commit at the wrong time may cause
     the commit editor to return an error from editor->close_edit() which
     makes most code paths call editor->abort_edit(). But ra-local and ra-serf
     then still tried to access the original transaction which is already
     gone. Daniel Shahaf reported reproducable see double frees when using
     ra-local with fsfs. This fix makes calling abort safe (+- a NO-OP) after
     a successfull commit. A testcase is added showcasing this scenario.
   Notes:
     'svn import -mm | (sleep 2; cat)' followed by ^C at the right time was
     the reproduction.
   Branch:
     ^/subversion/branches/1.8.x-r1659867
   Votes:
     +1: danielsh (without r1660091, r1660097, ra_serf part; looks good but I can't vouch for it)
     +1: philip, rhuijben

 * r1660071
   When handling a pre-existing working copy as external, register it as such
   Justification:
     Without this the external is not properly handled as such when performing
     operations like status.
   Votes:
     +1: rhuijben

Veto-blocked changes:
=====================

 * r1524145
   Make the 'm' conflict prompt option run external merge tool if configured.
   Justification:
     Usability fix. The current behaviour ('m' -> internal merge tool,
     'l' -> external merge tool) confuses users who try 'm' to run an
     external merge tool. See issue #4426.
   Votes:
     +1: stsp
     -1: breser (see my email to dev@, <5282FE15.40505@reser.org>)

Approved changes:
=================

 * r1590751
   Use empty, rather than NULL, config if default is unreadable.
   Justification:
     svn SEGV reported by user.
   Votes:
     +1: philip, danielsh, rhuijben
     -0: julianfoad (prefer to fix all the programs at the same time;
                     other queries -- see email thread)
     +1: danielsh (julianf: I agree with your points on list, but +1ing anyway:
                     fixing this segfault in svn need not block on fixing
                     a similar segfault in svnadmin.)
