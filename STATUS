      * * * * * * * * * * * * * * * * * * * * * * * * * * * *
      *                                                     *
      *  THIS RELEASE STREAM IS OPEN TO BUG FIXES.          *
      *                                                     *
      * * * * * * * * * * * * * * * * * * * * * * * * * * * *

This file tracks the status of releases in the 1.8.x line.

See http://subversion.apache.org/docs/community-guide/releasing.html#release-stabilization
for details on how release lines and voting work, what kinds of bugs can
delay a release, etc.

Status of 1.8.4:

Candidate changes:
==================

 * r1469519, r1469520, r1481848, r1481870
   Silence compiler warnings, tighten scopes and improve code.
   Justification:
     Clean builds make it more likely to notice real compiler warnings.
   Branch: ^/subversion/branches/1.8.x-r1469519-and-friends
   Votes:
     +1: blair, brane
     -0: philip (see dev thread: false alarm, trades one warning for another)

 * r1498000
   Improve error handling for inherited property requests by using the
   transition based xml parser in libsvn_ra_serf.
   Justification:
     This maintenance work which usually doesn't belong in a patch release
     makes it possible to properly detect if this request should be restarted
     on non-chunk-enabled proxies.
   Votes:
     +1: rhuijben, ivan

 * r1496127
   Fix occasional failure of checkout_tests.py 12.
   Justification:
     Spurious FAILs confuse people testing the release.
   Votes:
     +1: philip, rhuijben
     -0: danielsh (loses functionality; patch sent with alternative fix)
     stsp: where exactly is the alternative patch?
     danielsh: http://mid.gmane.org/20130705040533.GL3244@lp-shahaf.local

 * r1501199, r1501207, r1502777
   Verify the result of the xml parser in ra serf, instead of assuming the
   parsing always succeeds.
   Justification:
     While in general we can just rely on the parsed result being incomplete,
     this makes many network (and server implementation) problems easier to
     diagnose.
   Votes:
     +1: rhuijben, stefan2

 * r1501293, r1501338, r1501360, r1501533
   Fix issue #4390, "parallel nested checkout not possible with wc-ng"
   Justification:
     Regression from 1.6. User complained. See issue for details.
   Branch:
     ^/subversion/branches/1.8.x-issue4390
   Depends:
     Nomination conflicts with the branch and merges cleanly without it.
     Branch should probably be removed from the nomination (it was only needed
     before r1503552).
   Votes:
     +1: stsp, rhuijben
     -0: ivan (not regression from 1.7.x, destructive change in libsvn_wc core)

 * r1501656, r1501702
   Fix the ability to build Debug Build with BDB FS on Windows.
   Justification:
     Our build system should work properly.
   Votes:
     +1: breser, stefan2
     -0: rhuijben (Not a regression and I don't think we should encourage
                   building with just a debug BDB (even for release mode)
                   by backporting this change. That would require using the
                   non-distributable debug CRT. Trunk has a cleaner
                   detection of BDB (via db.h) and even while debugging a
                   maintainer build of Subversion a release BDB works fine)

 * r1468980, r1478987, r1502811
   Reduce the number of ra sessions for automatic merge calculations to two.
   Justification:
     10 concurrent ra sessions open to a single server at the same time breaks
     in certain setups (e.g. xinetd svnserve), while we really don't need this
     many. Opening ra session is still a performance killer in all other
     scenarios, so reducing the number of sessions is a good thing.
   Notes:
     Depends on r1502901 and r1502909, to avoid ra-session reuse errors.
     r1468980 is a small performance tweak needed for a clean merge.
     r1478987 removes a common ra session.
     r1502811 avoids all ra session creations via svn_client__mergeinfo_log.
   Votes:
     +1: rhuijben, stefan2
     +0: breser (I see that the call to
                 svn_ra__assert_mergeinfo_capable_server() was removed from
                 get_mergeinfo() in mergeinfo.c, but not mentioned in commit
                 logs.  Looking at the code it seems that finding out if the
                 server and repo support merginfo requires trying to get some,
                 but don't we need to pretty up the error here like the assert
                 would do for us?)

 * r1516806
   Do not look at the hostname part of an URI when checking that
   the schema data is canonical.
   Justification:
     As reported on dev@, "svn co file://./" and similar commands abort
     instead of returning an error that the URL is invalid.  This was
     caused by svn_uri_is_canonical treating the hostname "." as a path
     segment.  After this change, svn_uri_is_canonicall correctly
     determines that the URL is (syntactically) canonical, and the
     commands later faile with a normal error in the RA layer, which
     validates the semantics of the hostname.
   Votes:
     +1: brane, rhuijben

 * ^/subversion/branches/1.8.x-serf-1.3+-windows
   Allow compiling against serf 1.3 and later on Windows
   Justification:
     Serf 1.3 brings a lot of fixes that we need for 1.8.x stability.
   Notes:
     The dependency handling on Windows was updated for 1.9+, so this
     needs a specific backport patch (r1517123)
   Votes:
     +1: rhuijben, brane

 * r1518184
   Fix an of-by-one error in the fspath calculations of libsvn_ra_local,
   for the specific case where a repository is placed in a Windows drive
   root.
   Justification:
     Improves correctness. Resolves user reported problem.
   Votes:
     +1: rhuijben

 * r1519615, r1519617, r1519733
   Fix a memory problem in the 3rd party FS module loader.
   Changes[dev]:
    * fs loader: fix segfault with 3rd party modules and common_pool (rNNNNNNN)
   Justification:
     Not enabled in default build but a SEGV likely when triggered.
   Votes:
     +1: philip, danielsh

 * r1519955
   Fix a segfault with 'svn mergeinfo'.
   Justification:
     Missing NULL pointer checks are bad, user complained.
   Votes:
     +1: stsp, rhuijben

 * r1520529, r1520532, r1520539
   Properly re-canonicalize urls read from xml based entries files.
   Justification:
     The canonicalization rules have been changed since 1.3 and while
     we fixed the newer entries file parsing we forgot the xml based
     entries.  Fixes a client assert.
   Votes:
     +1: rhuijben, philip

Veto-blocked changes:
=====================

Approved changes:
=================
