      * * * * * * * * * * * * * * * * * * * * * * * * * * * *
      *                                                     *
      *  THIS RELEASE STREAM IS OPEN TO BUG FIXES.          *
      *                                                     *
      * * * * * * * * * * * * * * * * * * * * * * * * * * * *

This file tracks the status of releases in the 1.6.x line.

See "Stabilizing and maintaining releases" in trunk/www/hacking.html for
details on how release lines and voting work, what kinds of bugs can
delay a release, etc.

Status of 1.6.2:
================

Candidate changes:

 * r36613, r36615, r36631, r36641
   Avoid potential segfault when dealing with subtree mergeinfo.
   Justification:
     One user reported a segfault due to the way, prior to this change, that
     we set children_with_mergeinfo elements to NULL rather than removing
     the elements from the array, see
     http://svn.haxx.se/dev/archive-2009-03/0382.shtml.
   Notes:
     While segfaults are serious, this one is not sufficient by itself to
     hold up 1.6.0 given that it is not a regression from 1.5.x, no one has
     been able to produce a reproduction recipe, and only one user has
     reported it (and they were able to work around it).  The fix itself is
     r36613, r36631, and r36641.  r36615 is a variable renaming change that
     is necessary to avoid a conflict.
   Votes:
     +1: pburba, rhuijben

 * r36178
   External merge-tool improvements.
   Justification:
     Makes automated merging easier, and also fixes a bug where a file
     which should be marked conflicted was consired sucessfully merged
     because the tool's exit status was not properly evaluated.
   Notes:
     The bug is only triggered when using an external merge tool with the
     --accept=launch option. I don't think we need to hold 1.6.0 on this.
   Votes:
     +1: stsp (I'd say it's a fix for a feature we already support (merge
               under control of external non-interactive tool), albeit
               the feature is currently so buggy that you can't use it.)
     +1: arfrever

 * r36450, r36452, r37470, r37479, 37538
   Improve BASH completion.
   Votes:
     +1: arfrever

 * r36527
   Yet another merge performance improvement: Potentially reduce server
   queries about subtree mergeinfo during reverse merges.
   Justification:
     Large numbers of subtrees with mergeinfo can significantly slow merge
     performance, this alleviates that somewhat in a common use case.
   Votes:
     +1: pburba, rhuijben

 * r36509
   Don't contact the server asking about implicit mergeinfo when the
   explicit mergeinfo tells us all we need to know about what to merge
   and what not to.
   Justification:
     Avoids needless communication with the server in some use cases.  For
     users with lots of subtree mergeinfo and slow network connections
     the performance improvement should be quite significant.
   Votes:
     +1: pburba, rhuijben

 * r37137
   Make some sweeping pool lifetime fixes in the BDB backend.
   Justification:
     Bringing 'svn ls -v' over HTTP on a directory with 10000 files
     from 2Gb+ of RAM to under 400Mb is a very good thing.
   Votes:
     +1: cmpilato

 * r37245
   Recommend SQLite 3.6.13.
   Justification:
     http://svn.haxx.se/dev/archive-2009-04/0411.shtml
   Notes:
     Accept theirs-conflict while merging.
   Votes:
     +1: arfrever, rhuijben
     +0: pburba (I'm fine with the premise of the change, but merging this
         change produces a tree conflict on www/svn_1.6_releasenotes.zh.html
         that need to be addressed first).

 * r37478, r37543, r37544, r37545, r37547
   Support using `svnversion` on files and improve some messages printed by
   `svnversion`.
   Justification:
     Some messages printed by `svnversion` are inconsistent and sometimes
     incorrect:
     $ svnversion /usr
     exported
     $ svnversion /bin/ls
     '/bin/ls' not versioned, and not exported
     $ svnversion VERSIONED_FILE
     'VERSIONED_FILE' not versioned, and not exported
     $ svnversion /nonexistent
     subversion/libsvn_wc/questions.c:90: (apr_err=2)
     svn: '/nonexistent' does not exist
     ^^^
     Messages with these revisions backported:
     $ svnversion /usr
     Unversioned directory
     $ svnversion /bin/ls
     Unversioned file
     $ svnversion VERSIONED_FILE
     NUMBER
     $ svnversion /nonexistent
     '/nonexistent' doesn't exist
   Votes:
     -0: rhuijben (Introduces new features and changes output)

 * r37491
   Another merge performance improvement: Reduce contacts with server when
   a subtree with mergeinfo has non-inheritable mergeinfo and the subtree's
   immediate children have no explicit mergeinfo.
   Justification:
     If you hit this use case and the and the subtree in question has a *lot*
     of immediate children without mergeinfo then this change will avoid
     needless round trips for *each* of those children.
   Notes:
     Will conflict if r36509 is not backported first.  If this group is
     approved and r36509 is not, then I will create a backport branch - pburba.
     There is a call to svn_uri_basename() in
     inherit_implicit_mereginfo_form_parent() that must be changed to
     svn_path_basename() since the former is new for 1.7.
   Votes:
     +1: pburba

 * r37494, r37499
   Fix issue #3407 'Shallow merges incorrectly set mergeinfo on children'.
   Justification:
     Without this change shallow merges targeting a path with non-inheritable
     mergeinfo can record mergeinfo on subtrees which should be excluded by
     the requested depth -- see http://subversion.open.collab.net/ds/
     viewMessage.do?dsForumId=4&dsMessageId=313877.
   Notes:
     While merging r37494 accept theirs-conflict.
   Votes:
     +1: pburba, arfrever

Approved changes:
=================
