      * * * * * * * * * * * * * * * * * * * * * * * * * * * *
      *                                                     *
      *  THIS RELEASE STREAM IS OPEN TO BUG FIXES.          *
      *                                                     *
      * * * * * * * * * * * * * * * * * * * * * * * * * * * *

This file tracks the status of releases in the 1.8.x line.

See http://subversion.apache.org/docs/community-guide/releasing.html#release-stabilization
for details on how release lines and voting work, what kinds of bugs can
delay a release, etc.

Status of 1.8.1:

Candidate changes:
==================

 * r1469519, r1469520, r1481848, r1481870
   Silence compiler warnings, tighten scopes and improve code.
   Justification:
     Clean builds make it more likely to notice real compiler warnings.
   Branch: ^/subversion/branches/1.8.x-r1469519-and-friends
   Votes:
     +1: blair, brane
     -0: philip (see dev thread: false alarm, trades one warning for another)

 * r1491739, r1491755, r1491762, r1492152, r1492670, r1492682
   Improve interactive conflict resolution menu.
   Justification:
     The current menu is too hard to figure out for users.
     See http://svn.haxx.se/dev/archive-2013-06/0147.shtml
     and http://blog.elegosoft.com/?q=updating-moves-in-subversion-18-just-ask
   Votes:
     +1: stsp
     +0.5: danielsh (+1 for everything, except the last hunk; trusting stsp
                     that removing 'r' from the interactive resolver is a good
                     idea)

 * r1491816, r1494089
   Add two additional options to interactive file merge.
   Justification:
     Usability enhancement for quicker conflict resolution in some cases.
     Very simple change. Only affects interactive mode, not scripts.
   Votes:
     +1: stsp, danielsh

 * r1491868, r1494657
   Add missing conflict callback invocations to the update editor.
   Justification:
     Resolver is not invoked after some updates which flag new tree conflicts.
   Votes:
     +1: stsp, rhuijben

 * r1491756
   Fix issue #4364: Correctly remove the stale entries from the lock table
   when committing deletions.
   Justification:
     Keep wc.db as consistent and clean as possible.
   Votes:
     +1: rhuijben, stsp
     +1 (nonbinding): schabi

 * ^/subversion/branches/1.8.x-r1495063
   r1495806, r1495985
   Fix crash in FSFS DAG caching code on strict-alignment architectures.
   Also, improve hash hash effectiveness and efficiency.
   Justification:
     FSFS shouldn't crash.
     See http://svn.haxx.se/dev/archive-2013-06/0432.shtml
   Branch: 1.8.x-r1495063
   Notes:
     It took a while to figure out the "right way" to fix the hash function.
     The branch takes all the individual back-and-forth changes and combines
     them into one small patch.
   Votes:
     +1: stefan2, stsp

 * r1495329
   Use relative symlink for svnmucc in svn-tools.
   Justification:
     Makes 'make install-tools' work when DESTDIR is set.
   Votes:
     +1: philip
     -0: danielsh (the symlink should be absolute, but sans $(DESTDIR) prefix;
                   see r1495329 thread)

 * r1492264
   Fix wrong character encoding handling of generic error messages
   in JavaHL
   Justification:
     Fixes a confusing bug where the generic error message generated by
     JavaHL is mangled due to wrong encoding, but the more specific messages
     generated by the native libraries are legible.
   Votes:
     +1: brane

 * r1496007, r1496111
   Fix issue #4383, "Subversion 1.8.0 crash when WC path is symlink"
   Justification:
     Crash, regression from 1.7.
   Votes:
     +1: stsp
     +0: rhuijben (looks good)

 * r1496470
   Add runtime configuration option to control using of chunked transfer
   encoding for HTTP requests body.
   Branch: ^/subversion/branches/1.8.x-r1496470
   Justification:
     Workaround for issue with busted proxies that don't support chunked
     transfer encoding for request body. Reported many times on mailing list.
   Votes:
     +1: ivan
     -0: gstein, brane (we should dynamically detect the problem; should fix name)

 * r1497310
   Backport 'svn help cleanup' improvements made in r1497310.
   Justification:
     The current output doesn't explain what the command actually does.
   Branch: ^/subversion/branches/1.8.x-r1497310-partial
   Votes:
     +1: stsp, danielsh

 * r1498449, r1498455, r1498997
   kidney blame: convert a client segfault into a correct failure mode.  To
   reproduce run 'svn blame -r 2:1' against a 1.7 server with a 1.8.x binary.
   Notes:
     r1498449 breaks out a helper function
     r1498455 fixes the segfault.
     r1498997 is a minor optimisation
   Justification:
     Segfault.  (1.8.0 didn't have the segfaulting code.)
   Votes:
     +1: danielsh, stsp

 * r1498483, r1498484, r1498486
   fs: Improve a regression test.
   Notes:
     r1498483 adds a helper function.
     r1498484 extends the test to perform additional verifications, and
       switches it to a blacklist approach.
     r1498486 renames a local variable; no functional change.
   Justification:
     Makes the test more likely to exercise the bug.
   Votes:
     +1: danielsh, stefan2

 * r1498550
   ra_svn: Fix client-triggerable client segfault upon commit.
   Justification:
     Segfault.  ra_local and ra_serf permit the commit.
   Votes:
     +1: danielsh, stefan2

 * r1498851
   Provide an explicit error in the serf xml parser when the root element
   isn't matched in the transition table.
   Notes:
     This turns a class of previously invisible errors in an easy to diagnose
     error message.
   Votes:
     +1: rhuijben

 * r1499034
   sqlite3.m4: allow placing the amalgamation in the build dir.
   Justification:
     It is not present in the extracted source tarball, so doesn't belong in
     the source dir.
   Votes:
     +1: danielsh

 * r1499064
   Fix issue #4387, svn merge --record-only errors out on renamed path.
   Justification:
     Record-only merge shouldn't be flagging tree conflicts.
     Regression from 1.7.
   Votes:
     +1: stsp

 * r1499095, r1499096
   Fix issue #4388, crash during tree conflict resolution.
   Justification:
     Segfault can be triggered by sequence of client commands (see issue).
     Regression from 1.7.
   Notes:
     r1499095 fixes the crash shown in the issue.
     r1499096 should prevent a similar problem, found by code inspection.
   Votes:
      +1: stsp

 * r1498885
   Correctly initialize the node kind in the Ev2 shims' change table.
   Justification:
     Fixes a bug introduced bu the svn_kind_t -> svn_node_kind_t merge
     from r1455559, making the shims work again.
   Notes:
     I [brane] realise that this is an unusual backport request;
     the motivation is to make the JavaHL extensions backported to the
     javahl-1.8-extensions branch work with stock 1.8.x binary distros.
     Incidentally, that backport will serve as a real-life test of the
     Ev2 API, as that is what JavaHL exposes.
   Votes:
      +1: brane

Veto-blocked changes:
=====================

Approved changes:
=================

 * r1498564
   Allow the new in 1.8 move metadata only to work properly when the
   target of the move already exists as unversioned node.
   Justification:
     The metadata only option was added especially to allow fixing up
     of already performed moves.
   Votes:
     +1: rhuijben, philip, stsp, stefan2

 * r1496957
   Eliminate an extra RA layer roundtrip in 'svn log' on repository roots.
   Justification:
     Minor performance regression against 1.7.x plus requesting e.g. single
     revision logs on a repo root is not a fringe use-case.
   Votes:
     +1: stefan2, stsp, rhuijben

 * r1497002
   Avoid temporary files when calling external diff. Fixes issue 4382.
   Justification:
     Regression from 1.7.
   Votes:
     +1: philip, stsp, rhuijben

 * r1493703, r1494171
   Fix upgrade notification for explicit upgrades of post-WC-NG working copies.
   Justification:
     Without this notification users can't see whether the upgrade was a no-op.
   Votes:
     +1: rhuijben, stsp, danielsh

