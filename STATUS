      * * * * * * * * * * * * * * * * * * * * * * * * * * * *
      *                                                     *
      *  THIS RELEASE STREAM IS OPEN TO BUG FIXES.          *
      *                                                     *
      * * * * * * * * * * * * * * * * * * * * * * * * * * * *

This file tracks the status of releases in the 1.8.x line.

See http://subversion.apache.org/docs/community-guide/releasing.html#release-stabilization
for details on how release lines and voting work, what kinds of bugs can
delay a release, etc.

Status of 1.8.2:

Candidate changes:
==================

 * r1469519, r1469520, r1481848, r1481870
   Silence compiler warnings, tighten scopes and improve code.
   Justification:
     Clean builds make it more likely to notice real compiler warnings.
   Branch: ^/subversion/branches/1.8.x-r1469519-and-friends
   Votes:
     +1: blair, brane
     -0: philip (see dev thread: false alarm, trades one warning for another)

 * r1498000
   Improve error handling for inherited property requests by using the
   transition based xml parser in libsvn_ra_serf.
   Justification:
     This maintenance work which usually doesn't belong in a patch release
     makes it possible to properly detect if this request should be restarted
     on non-chunk-enabled proxies.
   Votes:
     +1: rhuijben, ivan

 * r1496127
   Fix occasional failure of checkout_tests.py 12.
   Justification:
     Spurious FAILs confuse people testing the release.
   Votes:
     +1: philip, rhuijben
     -0: danielsh (loses functionality; patch sent with alternative fix)
     stsp: where exactly is the alternative patch?
     danielsh: http://mid.gmane.org/20130705040533.GL3244@lp-shahaf.local

 * r1501199, r1501207, r1502777
   Verify the result of the xml parser in ra serf, instead of assuming the
   parsing always succeeds.
   Justification:
     While in general we can just rely on the parsed result being incomplete,
     this makes many network (and server implementation) problems easier to
     diagnose.
   Votes:
     +1: rhuijben, stefan2

 * r1501293, r1501338, r1501360, r1501533
   Fix issue #4390, "parallel nested checkout not possible with wc-ng"
   Justification:
     Regression from 1.6. User complained. See issue for details.
   Branch:
     ^/subversion/branches/1.8.x-issue4390
   Depends:
     Nomination conflicts with the branch and merges cleanly without it.
     Branch should probably be removed from the nomination (it was only needed
     before r1503552).
   Votes:
     +1: stsp, rhuijben
     -0: ivan (not regression from 1.7.x, destructive change in libsvn_wc core)

 * r1501656, r1501702
   Fix the ability to build Debug Build with BDB FS on Windows.
   Justification:
     Our build system should work properly.
   Votes:
     +1: breser, stefan2
     -0: rhuijben (Not a regression and I don't think we should encourage
                   building with just a debug BDB (even for release mode)
                   by backporting this change. That would require using the
                   non-distributable debug CRT. Trunk has a cleaner
                   detection of BDB (via db.h) and even while debugging a
                   maintainer build of Subversion a release BDB works fine)

 * r1502267
   Enforce strict version equality between cmdline tools and libraries.
   Justification:
     Without this, a 1.8.1 client will use a 1.8.2 libsvn_* library if that's
     what the runtime linker finds.  This may be a (hard-to-diagnose) problem
     due to possible incompatibilities in the subversion/include/private/ APIs
     used.
   Branch: 1.8.x-r1502267
   Notes:
     Seen in the wild under 1.7.x.
   Votes:
     +1: danielsh, stefan2

 * r1502901
   Make ra_serf sessions reusable after a log callback uses the
   SVN_ERR_CEASE_INVOCATION error.
   Justification:
     Without this patch a new session would be required for each of these
     usages.
     Required by the r1468980 group.
   Notes:
     Resets the connection used by ra_serf to avoid having to read all data,
     which is mostly the same behavior as not re-using the ra session.
   Votes:
     +1: rhuijben, stefan2

 * r1468980, r1478987, r1502811
   Reduce the number of ra sessions for automatic merge calculations to two.
   Justification:
     10 concurrent ra sessions open to a single server at the same time breaks
     in certain setups (e.g. xinetd svnserve), while we really don't need this
     many. Opening ra session is still a performance killer in all other
     scenarios, so reducing the number of sessions is a good thing.
   Notes:
     Depends on r1502901 and r1502909, to avoid ra-session reuse errors.
     r1468980 is a small performance tweak needed for a clean merge.
     r1478987 removes a common ra session.
     r1502811 avoids all ra session creations via svn_client__mergeinfo_log.
   Votes:
     +1: rhuijben, stefan2

 * r1503318
   ra_serf: Do not retry HTTP requests if we started to parse them.
   Discussion: http://svn.haxx.se/dev/archive-2013-07/0290.shtml
   Justification:
      There is absolutely no guarantee that REPORT or PROPFIND responses will
      be equal for every request. Before r1503318 after request we skipped
      recieved N bytes of original request response and continue with
      remaining bytes from retried request. 
   Votes:
     +1: ivan, rhuijben
     +0: danielsh

 * r1506047
   Add swig_diff target to the __SWIG_PERL__ and __SWIG_RUBY__ targets in
   build.conf
   Justification:
     These targets should build all swig modules for the language.
   Votes:
     +1: rhuijben

 * r1507889, r1507891
   davautocheck: use the correct apxs binary by default.
   Justification:
     Convenience aside, without this patch, davautocheck would use the wrong
     apxs binary when invoked "by hand" (not via make).
   Votes:
     +1: danielsh

 * r1511272
   svnauthz: improve help strings.
   Justification:
     I found the previous output confusing.
   Votes:
     +1: danielsh, stefan2

 * r1512300, r1512301
   Clean up unpacked revprops in 'svnadmin hotcopy --incremental'
   Justification:
     Although keeping the unpacked revprop files should not do
     harm, it still results in the target repo being different
     from the source.  Also, it wastes disc space.
   Notes:
     r1512300 is merely a test case update to reproduce the problem.
   Votes:
     +1: stefan2

 * r1512432, r1512471, r1512472, r1513463, r1513472
   mod_dav_svn: No longer map requests to the filesystem.
   Justification:
     Prevents httpd from logging garbage filenames with %f and stops Directory
     blocks from matching against requests served by mod_dav_svn.
   Votes:
     +1: breser (not r1513463, r1513472)
     +1: philip, ivan
     +0: rhuijben (in concept;
                   +1 for the documentation changes in r1513463, r1513472)

 * r1513874
   Fix packed revprop manifest growth in FSFS
   Justification:
     Users that frequently change existing revprops may, over time,
     experience a performance degradation.
   Votes:
     +1: stefan2, danielsh

 * r1513879, r1513880
   Fix packed revprop file splitting logic in FSFS
   Justification:
     Modifying revprops may result in the loss of revprops for one
     or multiple revisions.
   Branch: ^/subversion/branches/1.8.x-r1513879
   Votes:
     +1: stefan2, philip
     danielsh: withholding my +1.  APR_ARRAY_IDX(revprops->manifest,
       start + manifest_offset, const char *) would read random memory
       addresses if MANIFEST_OFFSET were negative --- which can happen since it
       is initialized from on-disk data (MANIFEST_OFFSET is derived from
       START_REVISION which ultimataely comes from atoi64() of file contents).

 * r1514295, r1514318, r1514356
   Add serf library version information to svn --version.
   Justification:
     Makes ra_serf issues diagnostic a little bit easier.
   Votes:
     +1: ivan, danielsh

 * r1514785, r1515201
   ra_serf: Improve SSL certificate verification failure message.
   Justification:
     Generic 'Server SSL certificate untrusted' error message is not
     informative. Regression from Subversion 1.7.x
   Votes:
     +1: danielsh, breser
     +1 (r1514785 only): ivan, stefan2

 * r1515119
   swig-py: prevent a segfaulting function from being called.  Also hide it
   from swig-pl where it is unusable (raises a TypeError(!?) if called).
   Justification:
     It's a segfault.
   Votes:
     +1: danielsh

 * r1515141
   Update documentation of mod_dav_svn installation to reflect changes
   not-so-recently-made to configure's defaults.
   Justification:
     INSTALL should document configure's defaults correctly.
   Votes:
     +1: danielsh

 * r1515225
   ra_serf: Stringify SVN_AUTH_SSL_OTHER as well
   Justification:
     Avoid discarding information when stringifying an error number into a
     message.
   Depends: r1514785
   Votes:
     +1: danielsh

 * ^/subversion/branches/1.8.x-svnsync-serf-memory
   ra_serf: Fix high memory usage running svnsync.
   Branch: ^/subversion/branches/1.8.x-svnsync-serf-memory
   Justification:
     Causes svnsync to fail due to excessive memory usage.
   Notes:
     Fixed directly on 1.8.x since the switch to transition based parser solved
     this there.  See r1515249 and r1515269 on branch for the specific changes.
   Votes:
     +1: breser

 * r1499044, r1515343
   Spell revision numbers as "r%ld" in error messages.
   Justification:
     We should be using 'r%ld' or 'revision %ld' consistently in user output.
   Votes:
     +1: danielsh

Veto-blocked changes:
=====================

Approved changes:
=================

 * r1514804
   ra_serf: Format distinguished names properly.
   Justification:
     Displaying "Issuer: (null), (null), (null), Thawte, US (null)"
     in SSL certificate confirmation is bad. Regression from
     Subversion 1.7.x.
   Votes:
     +1: ivan, stefan2, danielsh

