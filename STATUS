      * * * * * * * * * * * * * * * * * * * * * * * * * * * *
      *                                                     *
      *  THIS RELEASE STREAM IS OPEN TO BUG FIXES.          *
      *  THIS RELEASE STREAM IS OPEN TO API CHANGES.        *
      *                                                     *
      * * * * * * * * * * * * * * * * * * * * * * * * * * * *

This file tracks the status of releases in the 1.8.x line.

See http://subversion.apache.org/docs/community-guide/releasing.html#release-stabilization
for details on how release lines and voting work, what kinds of bugs can
delay a release, etc.

Status of 1.8.1:

Candidate changes:
==================

 * r1480080, r1481772, r1481847
   Instruct clang to not warn about unknown warning flags.
   Justification:
     Newer versions of clang accept warning flags that they do not
     support, but emit warnings about them instead -- making the
     compile output a mess with a warning emitted for every
     single C and C++ file in an optimized build (because
     of the -Wno-clobbered, see above).
   Votes:
     +1: brane (for 1.8.1)
     +1: danielsh
     +0: rhuijben (looks ok, but I can't test or verify via code inspection)

 * r1469519, r1469520, r1481848, r1481870
   Silence compiler warnings, tighten scopes and improve code.
   Justification:
     Clean builds make it more likely to notice real compiler warnings.
   Branch: ^/subversion/branches/1.8.x-r1469519-and-friends
   Votes:
     +1: blair
     +1: brane (for 1.8.1)
     -0: philip (see dev thread: false alarm, trades one warning for another)

 * r1489885, r1489928
   Resolve regression where 'svn ci ci' just returned success when 'ci' doesn't
   exist in the working copy.
   Justification:
     Improves usability of 'svn', and of the status api (for api users).
   Notes:
     This introduces a warning/error for a specific case via the status walker,
     so I'm not 100% sure if we should introduce this patch in this form in
     1.8.1 or later.
   Votes:
     +0: rhuijben (Needs more work. Breaks JavaHL)

 * r1489339
   Return 501/412 rather than 401 for lock errors.
   Justification:
     Old values are not valid HTTP.
   Notes:
     Usually the authorization layer produces an error earlier. This patch
     should only change the behavior for repositories without authorization
     requirements for these operations.
   Votes:
     +1: philip, rhuijben

 * r1490684
   Return 500 rather than 409 when commit fails and it is not a conflict.
   Justification:
     Not a client failure so 4xx is wrong.
   Votes:
     +1: philip, rhuijben

 * r1491432
   Rename 'automatic merge' to 'complete merge' in the merge help text.
   Justification:
     Prevent user confusion. "Automatic merge" sounds too ambitious and
     may be misunderstood if not used in context. The term 'complete'
     refers to a merge which merges all outstanding changes from the
     source branch, i.e. sync or reintegrate.
   Notes:
     This should be merged for 1.8.0, if possible, else different client
     versions will name the feature in different ways.
   Votes:
     +1: stsp
     +1: danielsh (no opinion on the name of the feature; just confirming this
                   patch does what it claims to)

 * r1491707
   Add version header to svnpubsub server.
   Justification:
     Make Daniel happy; potentially allow proxies to filter on this or some
     hypothetical use case.
   Votes:
     +1: danielsh, breser

 * r1491739, r1491755, r1491762, r1492152, r1492670, r1492682
   Improve interactive conflict resolution menu.
   Justification:
     The current menu is too hard to figure out for users.
     See http://svn.haxx.se/dev/archive-2013-06/0147.shtml
   Votes:
     +1: stsp

 * r1491816
   Add two additional options to interactive file merge.
   Justification:
     Usability enhancement for quicker conflict resolution in some cases.
     Very simple change. Only affects interactive mode, not scripts.
   Votes:
     +1: stsp
     +0: danielsh (modifies input argument "chunk1"; +1 if that's fixed)

 * r1491868
   Add missing conflict callback invocations to the update editor.
   Justification:
     Resolver is not invoked after some updates which flag new tree conflicts.
   Votes:
     +1: stsp
     -0: rhuijben (Working on a further review to avoid a possible duplicate
                   callback call)

 * r1478987, r1492020
   Optimize some code that retrieves mergeinfo to obtain less unneeded
   information from the repository.
   Justification:
     Simple fixes to improve performance.
   Votes:
     +1: rhuijben

 * r1491756
   Fix issue #4364: Correctly remove the stale entries from the lock table
   when committing deletions.
   Justification:
     Keep wc.db as consistent and clean as possible.
   Votes:
     +1: rhuijben

 * r1492148, r1493720
   Don't try to use 'blame -r 5:1' against 1.7 servers.  Affects only users
   of the RA API, not users of the client API or svn.
   Justification:
     1.7 servers would silently do the wrong thing.
   Votes:
     +1: danielsh, rhuijben (without r1493720)

 * r1493424
   Remove unnecessary check for branches ancestry from 
   command line client. All required checks are already performed in
   libsvn_client.
   Justification:
     There is no reason to command line and third-party use different
     codepath for ancestory checks. Simple performance fix.
   Votes:
     +1: ivan, rhuijben
     +0: danielsh

 * r1493475
   Improve 'svn merge' performance over WAN: Use already fetched 
   history-as-mergeinfo data to find youngest common ancestor in automatic 
   merge.
   Justification:
     No reason to create an RA session or perform RA calls if the information
     is already in memory.
   Votes:
     +1: rhuijben, ivan

 * r1493703
   Fix upgrade notification for explicit upgrades of post-WC-NG working copies.
   Justification:
     Without this notification users can't see whether the upgrade was a no-op.
   Votes:
     +1: rhuijben

Veto-blocked changes:
=====================

 * r1493027, r1493028, r1493060
   Make 'blame -r 5:4' work.
   Justification:
     Make it possible to track removed lines.
   Notes:
     r1493027 is the fix.
     r1493028 is a typo fix.
     r1493060 is a docstring change.  If this group is merged, that docstring
       should be amended to say "1.8.1" rather than "1.9.0" (this amendment
       does not require votes).
   Votes:
     -1: danielsh (doesn't resolve peg revisions correctly)

Approved for 1.8.1 or if soak is restarted for 1.8.0:
====================================================

 * r1492145
   Properly handle a corner case in svn_io_read_length_line().
   Justification:
     Don't get in an endless loop when repos/db/uuid contains a \r\n instead
     of a \n. (Some testcode of one user got in this case by applying a hack
     and it worked in 1.7)
   Votes:
     +1: rhuijben, ivan, stefan2

 * r1491770
   Eliminate revprop buffer size limit.
   Justification:
     This removes an inconsistency; we don't limit object sizes anywhere
     else. Particularly, we allowed for unlimited revprop sizes when setting
     them but had a 16MB limit in the getter.
   Votes:
     +1: stefan2, blair, danielsh

 * r1492005
   Optimize 'svn mergeinfo --show-revs' network usage.
   Justification:
     Simple fixes to improve performance.
   Votes:
     +1: ivan, rhuijben, danielsh

 * r1492295
   Fix swig-rb tests with out-of-tree builds.
   Justification:
     Our tests should not be broken, regression in 1.8.0 from previous versions
   Votes:
     +1: breser
     +0: danielsh

 * r1492164
   Invalid repository paths cause a segfault in the fsfs-stats tool.
   Justification:
     Don't segfault.
   Votes:
     +1: stefan2, stsp, danielsh

Approved changes:
=================

# 1.8.0-rc3 is released and as such 1.8.0 is in the final weak of soak. 
# Changes that are not intended for 1.8.0 should not be placed here and changes
# that would restart the soak should not be added unless they are resolving
# blocking issues.  If in doubt see this link for details:
# http://subversion.apache.org/docs/community-guide/releasing.html#release-stabilization

