      * * * * * * * * * * * * * * * * * * * * * * * * * * * *
      *                                                     *
      *  THIS RELEASE STREAM IS OPEN TO BUG FIXES.          *
      *                                                     *
      * * * * * * * * * * * * * * * * * * * * * * * * * * * *

This file tracks the status of releases in the 1.7.x line.

See http://subversion.apache.org/docs/community-guide/releasing.html#release-stabilization
for details on how release lines and voting work, what kinds of bugs can
delay a release, etc.

Status of 1.7.14:

Candidate changes:
==================

 * r1306275, and other revisions
   New diff support code for added/deleted files and directories.
   Fixes issue #4153, "svn log --diff" on moved file gives "not found",
   and other problems such as issue #4421, "diff --summarize of a child of
   a newly added child causes crash" (over HTTP only).
   Justification:
     The current code (introduced in 1.7.x in the r1207351 backport commit)
     produces inconsistent paths in diff output (see
     http://svn.haxx.se/dev/archive-2012-03/0385.shtml), and it also breaks
     with the paradigm that the target of an editor drive may never have more
     than one path component (which according to cmpilato is an API violation).
   Notes:
     Please read the branch and related trunk log messages for detailed notes
     about these changes.
     breser: Not so found of the temp file use but 1.8.x is out with a much
     implementation anyway.
   Branch:
     ^/subversion/branches/1.7.x-issue4153
   Votes:
     +1: breser
     +1 (without r1535554, r1535590, 1535592 commits on branch): stsp

 * r1426762
   Fix issue #4283, When the identical suffix starts at chunk boundary, "svn
   diff" produces incorrect diff.
   Justification:
     Without this patch the identical suffix might show up as an added or
     deleted suffix of a file.
   Depends: (conflicts, doesn't compile)
   Notes:
     Will probably conflict if r1426752 and/or r1427278 are merged to
     1.7.x, because they all add a test to the testlist in diff-diff3-test.c.
   Votes:
     +1: rhuijben, jcorvel
     +0: stsp (doesn't compile, undefined reference to `svn_stringbuf_insert')

 * r1435635, r1435714, r1435722, r1435737
   When svn update removes a switched subtree because it was deleted in the
   target revision, it would be nice if a future update would bring back
   the originally node that existed before switching. (Issue #4295)
   Justification:
     After this operation the working copy doesn't match the repository
     without obviouse way to recover.
   Notes:
     The real fix is in r1435722. The other revisions tweak the test that
     also triggered a different revision on trunk.
   Branch:
     ^/subversion/branches/1.7.x-issue-4295
   Votes:
     +1: rhuijben
     +0: stsp (nice fix, but backport doesn't compile)

 * r1438879
   Make 'show-diff' at the interactive conflict prompt show nicer diffs.
   Justification:
     'show-diff' produces unreadable diffs in some cases, especially with
     conflicts recorded during merges.
   Branch:
     ^/subversion/branches/1.7.x-r1438879
   Votes:
     +1: stsp
     +0: rhuijben (Shouldn't we provide a three way diff instead of guessing
                   a base to show a one way diff against based on the
                   operation?
                   
                   I would prefer to have show-diff always work against
                   the local pristine version, instead of sometimes against
                   their or their-old (src-left) version, as that is the final
                   change I would commit.)

 * r1461760
   Additional fix related to issue #4340, "filenames containing \n corrupt
   FSFS repositories"
   Justification:
     This change makes libsvn_repos block filenames containing control
     characters. Control characters in filenames have always been rejected
     by libsvn_client, but client-side software bypassing libsvn_client
     could still commit such filenames. Control characters in filenames
     can cause problems not just in FSFS but also in dump files, unidiff,
     and possibly elsewhere. It is a good idea to make the client and
     server consistent.
     See discussion linked from issue #4340 for more information.
   Branch:
     ^/subversion/branches/1.7.x-issue4340-repos
   Votes:
     +1: stsp
     -0: danielsh (restrictions not suitable for introduction in patch release;
                   dev@ thread started 2013/05/10 9pm)

 * r1516806
   Do not look at the hostname part of an URI when checking that
   the schema data is canonical.
   Justification:
     As reported on dev@, "svn co file://./" and similar commands abort
     instead of returning an error that the URL is invalid.  This was
     caused by svn_uri_is_canonical treating the hostname "." as a path
     segment.  After this change, svn_uri_is_canonicall correctly
     determines that the URL is (syntactically) canonical, and the
     commands later faile with a normal error in the RA layer, which
     validates the semantics of the hostname.
   Votes:
     +1: brane, stefan2

 * r1518184
   Fix an of-by-one error in the fspath calculations of libsvn_ra_local,
   for the specific case where a repository is placed in a Windows drive
   root.
   Justification:
     Improves correctness. Resolves user reported problem.
   Votes:
     +1: rhuijben, stefan2

 * r1522892
   Fix issue #4425 and #3014 on Windows: svn.exe crashed when output of 'log'
   command interrupted when using ra_serf.
   Changes[client]:
     * fixed: command line client crashes when piped command is interrupted on
       Windows.
   Justification:
     User reported crash.
   Votes:
     +1: rhuijben, stefan2

 * r1525902
   Fix issues #4428 and #4429: external references a redirected HTTP-URL.
   Changes:
     In handle_external_item_change(), a redirect was effectively ignored by
     passing the old URL to switch_dir_external(). Pass the new one.
   Branch:
     ^/subversion/branches/1.7.x-issue4428
   Votes:
     +1: neels, stefan2

 * r1524869
   JavaHL: Canonicalize path for streamFileContent method.
   Justification:
      JavaHL is designed around us doing the canonicalization.
   Votes:
     +1: breser, stefan2

 * r1527112
   Fix OOM with concurrent requests right after threaded server start.
   Changes:
     This was a common condition in my load tests.  Affects threaded
     servers only.  Apache will just respawn a new worker process.
   Branch:
     ^/subversion/branches/1.7.x-r1527103
   Votes:
     +1: stefan2

 * r1534158
   Correct error message when FSFS detects unsupported future formats.
   Justification:
      The admin should see a "format number error" instead of "unknown
      format option error" for format bumps that also add new options.
   Votes:
     +1: stefan2

 * r1536790
   Limit the time spent in committing files with deep change histories
   Justification:
      The problem has been observed in the real world with certain
      committs taking hours instead of seconds.  This patch sets a
      firm limit to the internal processing effort and cuts it down
      from several hours to a few minutes.
   Branch:
     ^/subversion/branches/1.7.x-fsfs-commit
   Votes:
     +1: stefan2

 * r1537360
   mod_dav_svn: Set r->filename to a bogus value rather than NULL.
   Justification:
     Some httpd modules (mod_wsgi) assume that r->filename is not NULL and
     don't bother to check before dereferincing.  Regression from earlier
     1.7.x releases and user found server crash.
   Votes:
     +1: breser

Veto-blocked changes:
=====================

 * r1409804
   Add a delimiter between the two chains in svn_error_compose_create().
   Justification:
     Allow users to tell where the second error chain starts -- avoids
     misrepresentation that the first error is caused by the second.
   Votes:
     -0: rhuijben (I'm not sure if this should be in a patch release and the
                   stacktrace where this refers to is maintainer only)
     +1: danielsh (err->file and err->line are only in maintainer builds.
                   this is about err->message which is valid in all builds)
     -1: stsp (not a bug fix, changes output in a patch release)

Approved changes:
=================

