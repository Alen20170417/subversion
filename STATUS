      * * * * * * * * * * * * * * * * * * * * * * * * * * * *
      *                                                     *
      *  THIS RELEASE STREAM IS OPEN TO BUG FIXES.          *
      *                                                     *
      * * * * * * * * * * * * * * * * * * * * * * * * * * * *

This file tracks the status of releases in the 1.8.x line.

See http://subversion.apache.org/docs/community-guide/releasing.html#release-stabilization
for details on how release lines and voting work, what kinds of bugs can
delay a release, etc.

Status of 1.8.1:

Candidate changes:
==================

 * r1469519, r1469520, r1481848, r1481870
   Silence compiler warnings, tighten scopes and improve code.
   Justification:
     Clean builds make it more likely to notice real compiler warnings.
   Branch: ^/subversion/branches/1.8.x-r1469519-and-friends
   Votes:
     +1: blair, brane
     -0: philip (see dev thread: false alarm, trades one warning for another)

 * r1496007, r1496111
   Fix issue #4383, "Subversion 1.8.0 crash when WC path is symlink"
   Justification:
     Crash, regression from 1.7.
   Votes:
     +1: stsp, breser
     +0: rhuijben (looks good)

 * r1498000
   Improve error handling for inherited property requests by using the
   transition based xml parser in libsvn_ra_serf.
   Justification:
     This maintenance work which usually doesn't belong in a patch release
     makes it possible to properly detect if this request should be restarted
     on non-chunk-enabled proxies.
   Votes:
     +1: rhuijben, ivan

 * r1496127
   Fix occasional failure of checkout_tests.py 12.
   Justification:
     Spurious FAILs confuse people testing the release.
   Votes:
     +1: philip, rhuijben
     -0: danielsh (loses functionality; patch sent with alternative fix)
     stsp: where exactly is the alternative patch?
     danielsh: http://mid.gmane.org/20130705040533.GL3244@lp-shahaf.local

 * r1501199, r1501207
   Verify the result of the xml parser in ra serf, instead of assuming the
   parsing always succeeds.
   Justification:
     While in general we can just rely on the parsed result being incomplete,
     this makes many network (and server implementation) problems easier to
     diagnose.
   Votes:
     +1: rhuijben

 * r1501293, r1501338, r1501360, r1501533
   Fix issue #4390, "parallel nested checkout not possible with wc-ng"
   Justification:
     Regression from 1.6. User complained. See issue for details.
   Branch:
     ^/subversion/branches/1.8.x-issue4390
   Votes:
     +1: stsp
     +1: rhuijben (for 1.8.2+)
     -0: ivan (not regression from 1.7.x, destructive change in libsvn_wc core)

 * r1501656, r1501702
   Fix the ability to build Debug Build with BDB FS on Windows.
   Justification:
     Our build system should work properly.
   Votes:
     +1: breser

Veto-blocked changes:
=====================

 * r1489117, r1496470, r1497975, r1497980, r1498012, r1499423, r1499595,
     r1502097  (and local: r1499225, r1502099, r1502104, r1502106)
   Support for HTTP/1.1 reverse proxies that require Content-Length headers
   and deny chunked requests.
   Branch: ^/subversion/branches/1.8.x-busted-proxy
   Justification:
     Older nginx servers cannot handle chunked requests. This patch will
     keep HTTP/1.1 features in the connection, but will always use C-L
     headers for the length (at a variant performance cost). This increases
     svn's compatibility in various environments. Most installations will
     never see this; the runtime test is only enabled with a config settting.
   Notes:
     r1489117: this is actually unrelated to the proxy work, but it removes
               some redundant minimum-serf-version checking and allows the
               actual work to cleanly merge.
     r1496470: add/respect using_chunked_requests flag to session state
     r1497975: rename config variable, tweak session variables
     r1497980: add runtime/dynamic checking of proxy support
     r1498012: remove improper check of client-side proxy; the real problem
               is within the server-side reverse proxy
     r1499423: fix 411 handling
     r1499595: don't probe when a redirect occurs
     r1502097: uses consensus option name from the dev@ list
     .
     Local to branch:
     r1499225: remove SVN_CONFIG_OPTION_BUSTED_PROXY from the public API,
               since we cannot add a symbol in a patch release.
     r1502099: revert r1499225
     r1502104: similar to -9225: switch to a private symbol
     r1502106: a simple catchup merge from 1.8.x
   Votes:
     +1: gstein
     +1: philip, lgo (except for r1502097, -2099, -2104, -2106)
     -1: breser (given danielsh's veto, the discussion on IRC and my email to
                 dev I think we need to discuss this more before approving)

 * r1500837, r1500857, r1502109
   Follow up to the r1489117 group, modifies the 411 Content length required
   error message to point the user to the busted-proxy option.
   Justification:
     The original error message was meaningless, these revisions at least
     guide the user in the right direction.
   Notes:
     Depends on the r1489117 group (logically, not merge-wise).
   Votes:
     +1: gstein
     +1: lgo, danielsh, breser (except for r1502109)
     +1: rhuijben (except for r1502109; and ref r1500857: "but also +1 on
                   "not applying it if that would be the consensus")
     -1: (not vetoed, but depends on the r1489117 group which is)

 * r1501049, r1501371
   ra_serf: Return Subversion error codes in svn_error_t.
   Justification:
     Other error codes are useless to API users.
   Votes:
     +1: danielsh
     -1: rhuijben (We also report apr and OS statuses, which are certainly
                   not useless, as GUI clients depend on this extensive error
                   codes to provide proper workarounds.
                   This use-case should be fixed by directly setting
                   the right message in the error chain when leaving ra_serf.
                   This adds up to a -0 for me.
                   
                   The reason for the -1 is the re-use of a specific error code
                   that is automatically unwrapped in some ra_serf code, to avoid
                   handling codes like APR_EOF as non fatal
                   [ without r1501371 ]
                   <danielsh>: Responded in detail in the r1501049 thread.
		   tldr: outermost svn_error_t->apr_err should be defined by
                   Subversion or by APR, not by serf; can't find evidence of
                   the "automatic unwrapping", and in any case happy to change
                   the error code to something else if that's the problem.)
     -1: gstein (apr_status_t was intended/designed to hold error codes from
                 multiple apps/libs; check for known values, and propagate all
                 unkown values)

Approved changes:
=================
