      * * * * * * * * * * * * * * * * * * * * * * * * * * * *
      *                                                     *
      *  THIS RELEASE STREAM IS OPEN TO BUG FIXES.          *
      *                                                     *
      * * * * * * * * * * * * * * * * * * * * * * * * * * * *

This file tracks the status of releases in the 1.7.x line.

See http://subversion.apache.org/docs/community-guide/releasing.html#release-stabilization
for details on how release lines and voting work, what kinds of bugs can
delay a release, etc.

Status of 1.7.12:

Candidate changes:
==================

 * r1306275, and other revisions
   New diff support code for added/deleted files and directories.
   Fixes issue #4153, "svn log --diff" on moved file gives "not found",
   and other problems.
   Justification:
     The current code (introduced in 1.7.x in the r1207351 backport commit)
     produces inconsistent paths in diff output (see
     http://svn.haxx.se/dev/archive-2012-03/0385.shtml), and it also breaks
     with the paradigm that the target of an editor drive may never have more
     than one path component (which according to cmpilato is an API violation).
   Depends: conflicts on diff_tests.py
   Notes:
     Please read the branch and related trunk log messages for detailed notes
     about these changes.
   Branch:
     ^/subversion/branches/1.7.x-issue4153
   Votes:
     +1: stsp

 * r1426762
   Fix issue #4283, When the identical suffix starts at chunk boundary, "svn
   diff" produces incorrect diff.
   Justification:
     Without this patch the identical suffix might show up as an added or
     deleted suffix of a file.
   Depends: (conflicts, doesn't compile)
   Notes:
     Will probably conflict if r1426752 and/or r1427278 are merged to
     1.7.x, because they all add a test to the testlist in diff-diff3-test.c.
   Votes:
     +1: rhuijben, jcorvel
     +0: stsp (doesn't compile, undefined reference to `svn_stringbuf_insert')

 * r1435635, r1435714, r1435722, r1435737
   When svn update removes a switched subtree because it was deleted in the
   target revision, it would be nice if a future update would bring back
   the originally node that existed before switching. (Issue #4295)
   Justification:
     After this operation the working copy doesn't match the repository
     without obviouse way to recover.
   Notes:
     The real fix is in r1435722. The other revisions tweak the test that
     also triggered a different revision on trunk.
   Branch:
     ^/subversion/branches/1.7.x-issue-4295
   Votes:
     +1: rhuijben
     +0: stsp (nice fix, but backport doesn't compile)

 * r1438879
   Make 'show-diff' at the interactive conflict prompt show nicer diffs.
   Justification:
     'show-diff' produces unreadable diffs in some cases, especially with
     conflicts recorded during merges.
   Branch:
     ^/subversion/branches/1.7.x-r1438879
   Votes:
     +1: stsp
     +0: rhuijben (Shouldn't we provide a three way diff instead of guessing
                   a base to show a one way diff against based on the
                   operation?
                   
                   I would prefer to have show-diff always work against
                   the local pristine version, instead of sometimes against
                   their or their-old (src-left) version, as that is the final
                   change I would commit.)

 * ^/subversion/branches/1.7.x-gssapi-solaris10
   Justification:
     Make it easier to build svn+serf with kerberos support on Solaris10.
   Branch:
     ^/subversion/branches/1.7.x-gssapi-solaris10
   Notes:
     rhuijben: Is this necessary for 1.7. I think gssapi was moved to serf
     with/before serf 1.0, which is a 1.7 requirement?
     breser: serf 0.7.1 is the 1.7 requirement.  I was underthe impression
     when I did this that serf didn't have gssapi code until later.
     serf 0.7.1 does have code support for gssapi but not build system
     support.  From a user perspective they're going to try to use our
     gssapi options since we have them and advertise them while serf
     doesn't.  So I think we should include this fix.
   Votes:
     +1: breser, rhuijben

 * r1461760
   Additional fix related to issue #4340, "filenames containing \n corrupt
   FSFS repositories"
   Justification:
     This change makes libsvn_repos block filenames containing control
     characters. Control characters in filenames have always been rejected
     by libsvn_client, but client-side software bypassing libsvn_client
     could still commit such filenames. Control characters in filenames
     can cause problems not just in FSFS but also in dump files, unidiff,
     and possibly elsewhere. It is a good idea to make the client and
     server consistent.
     See discussion linked from issue #4340 for more information.
   Branch:
     ^/subversion/branches/1.7.x-issue4340-repos
   Votes:
     +1: stsp
     -0: danielsh (restrictions not suitable for introduction in patch release;
                   dev@ thread started 2013/05/10 9pm)

 * r1482282
   Don't use unitialized variable to produce an error code.
   Justification:
     Silence compiler warning. Getting in this error path is as far as I can
     tell impossible on Windows 2000 and later, but might be possible on Wine.
     (Getting into this error path requires an on-disk path of the running
      application that can't be expressed in unicode, which is very hard if the
      path itself is stored in Unicode)
   Votes:
     +1: rhuijben, breser
     +0: danielsh (don't know whether GetLastError is the right API here)

 * r1514763
   ra_serf: Use case-insensitive hostname comparision when validating server
   certificate as it specified in RFC 2459.
   Justification:
     SSL certificate with uppercase letters considired as untrusted. Regression
     from neon.
   Votes:
     +1: rhuijben

Veto-blocked changes:
=====================

 * r1409804
   Add a delimiter between the two chains in svn_error_compose_create().
   Justification:
     Allow users to tell where the second error chain starts -- avoids
     misrepresentation that the first error is caused by the second.
   Votes:
     -0: rhuijben (I'm not sure if this should be in a patch release and the
                   stacktrace where this refers to is maintainer only)
     +1: danielsh (err->file and err->line are only in maintainer builds.
                   this is about err->message which is valid in all builds)
     -1: stsp (not a bug fix, changes output in a patch release)

Approved changes:
=================

 * r1512432, r1512471, r1512472, r1513463, r1513472
   mod_dav_svn: No longer map requests to the filesystem.
   Justification:
     Prevents httpd from logging garbage filenames with %f and stops Directory
     blocks from matching against requests served by mod_dav_svn.
   Votes:
     +1: breser, philip, ivan

 * r1438602, r1438683, r1441810
   Fix issue #4306, "multiple editor drive file merges record wrong mergeinfo
   during conflicts"
   Justification:
     Bogus mergeinfo is created during conflicting merges with file targets.
   Notes: r1438602 is the initial test and r1438683 the initial fix. r1441810
     is a follow-up that addressed a bug in the initial fix (see
     http://svn.haxx.se/dev/archive-2013-02/0001.shtml) and also reworked the
     test to use prop edits rather than text edits as the changes to be
     merged.  Unfortunately, 1.7.x has unrelated problems with property
     conflicts: It doesn't abort the merge if it encounters them!  It merrily
     plugs along sans any "One or more conflicts were produced while
     merging...resolve all conflicts and rerun the merge to apply the
     remaining unmerged revisions" error (this is fixed on trunk).  So while
     r1441810 is a valid fix (IMO) its test fails for unrelated reasons.  So
     I reworked the earlier version of test to demonstrate the problem
     r1441810 fixes, but using file conflicts.
   Branch:
     ^/subversion/branches/1.7.x-issue4306
   Votes:
     +1: stsp, pburba, rhuijben

 * ^/subversion/branches/1.7.x-issue4408
   Fix invalid output from diff --summarize.
   Branch:
     ^/subversion/branches/1.7.x-issue4408
   Justification:
     User ran into the issue and reported it.  Relatively straightforward fix.
   Notes:
     See r1512154 for the actual change to review on the branch.
   Votes:
     +1: breser, philip, rhuijben
