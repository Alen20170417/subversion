This branch exists for the development of ideas documented in
/trunk/notes/http-protocol-v2.txt.  It is being managed as a
reintegrate-able branch, with regular catch-up merges from the trunk.


   =======================================================================

   WARNING: Code is currently causing server SEGFAULTs (Possibly
   WARNING: due to using "me resource" for PROPFINDs, which have
   WARNING: special handling for VCCs but not for the "me resource")

   These tests are currently failing for cmpilato:

      authz_tests.py 3: broken authz files cause errors
      authz_tests.py 4: test authz for read operations
      authz_tests.py 6: test authz for checkout
      authz_tests.py 7: test authz for log and tracing path changes
      authz_tests.py 11: test the authz validation rules
      authz_tests.py 12: test authz for locking
      commit_tests.py 28: commit deletion of out-of-date file or dir
      merge_tests.py 4: some simple property merges
      tree_conflict_tests.py 2: up/sw file: del/rpl/mv onto modify

   Additionally, the svnsync_tests.py are segfauling the server and as
   such just running indefinitely in a loop.

   =======================================================================


TODO:

 * Teach mod_dav_svn to answer the OPTIONS request with these
   additional pieces of information: youngest revision, me resource URI,
   pegrev URI stub, revision URI stub, repository root URI.  [DONE]

 * Teach mod_dav_svn to handle POST against the "me resource",
   returning a transaction URI stub and transaction prop URI stub for
   further use in the commit.

 * Teach mod_dav_svn to recognize and correctly interpret URLs which
   make use of the new URI stubs:

      me resource URI       -> !svn/me  [DONE]
      pegrev URI stub       -> !svn/bc  [DONE]
      revision URI stub     -> !svn/rev [STARTED]
      transaction URI stub  -> !svn/txn
      transaction prop stub -> !svn/txp

 * Teach ra_serf operations to not do the multi-PROPFIND dance any
   more, but to fetch the information they seek from mod_dav_svn using
   the new stub URIs:

      get-file              -> GET (against pegrev URI)
      get-dir               -> PROPFIND depth 1 (against pegrev URI)
      rev-prop              -> PROPFIND (against revision URI)
      rev-proplist          -> PROPFIND (against revision URI, but recursive)
      check-path            -> PROPFIND (against pegrev URI)
      stat                  -> PROPFIND (against pegrev URI)
      get-lock              -> PROPFIND (against public HEAD URI)

 * Teach ra_serf REPORT-type requests to use the URI stubs where
   applicable, too:

      log                   -> REPORT (against pegrev URI)      [DONE]
      get-dated-rev         -> REPORT (against "me resource")   [DONE]
      get-deleted-rev       -> REPORT (against pegrev URI)      [DONE]
      get-locations         -> REPORT (against pegrev URI)      [DONE]
      get-location-segments -> REPORT (against pegrev URI)      [DONE]
      get-file-revs         -> REPORT (against pegrev URI)      [DONE]
      get-locks             -> REPORT (against public HEAD URI) [DONE]
      get-mergeinfo         -> REPORT (against pegrev URI)      [DONE]
      replay                -> REPORT (against "me resource")   [DONE]
      replay-range          -> REPORTs (against "me resource")  [DONE]

 * Teach ra_serf simple write requests to use new URI stubs:

      change-rev-prop       -> PROPPATCH (against revision URI)
      lock                  -> LOCK (against public HEAD URI)
      unlock                -> UNLOCK (against public HEAD URI)

 * Teach ra_serf to do update-style REPORTs a little differently:

    - REPORT against the new "me resource" instead of VCC URI  [DONE]
    - eliminate now-unnecessary wcprops cache
    - use pegrev URI stubs to avoid unnecessary PROPFIND discovery

 * Rework ra_serf commit editor implementation to use new direct
   methods as described in the design doc.

 * Optional:  All that stuff for ra_serf above?  Do it for ra_neon, too.
